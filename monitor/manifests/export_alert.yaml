apiVersion: 1
groups:
    - orgId: 1
      name: test
      folder: alert_test
      interval: 1m
      rules:
        - uid: eab213ba-60b1-4643-8800-b26f226d54a3
          title: Voteapp_scaling
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
              model:
                editorMode: builder
                expr: kube_horizontalpodautoscaler_status_current_replicas{horizontalpodautoscaler="autoscalevoteapp"}
                hide: false
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                hide: false
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 2
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                hide: false
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          noDataState: NoData
          execErrState: Error
          for: 1m
          isPaused: false
        - uid: cc003897-8ef5-457a-aca4-9ffae1ea96f4
          title: Redis_Memory-Usage_Warning
          condition: E
          data:
            - refId: A
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
              model:
                editorMode: code
                expr: sum(kube_pod_container_resource_limits{container="redis", resource="memory"})
                hide: false
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
              model:
                datasource:
                    type: prometheus
                    uid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
                editorMode: code
                expr: sum(container_memory_usage_bytes{container="redis"})
                hide: false
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: B
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: $B/($A/100)
                hide: false
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: math
            - refId: D
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: C
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: D
                type: reduce
            - refId: E
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 70
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: D
                intervalMs: 1000
                maxDataPoints: 43200
                refId: E
                type: threshold
          noDataState: NoData
          execErrState: Error
          for: 1m
          annotations:
            description: TOO MANY USAGE
            summary: WARNING_Redis memory Usage
          isPaused: false
        - uid: e5f59aba-038b-43db-8c6f-6b31f3438aa5
          title: Voteapp_Memory-Usage_Warning
          condition: E
          data:
            - refId: A
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
              model:
                editorMode: code
                expr: sum(kube_pod_container_resource_limits{container="voteapp", resource="memory"})
                hide: false
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
              model:
                datasource:
                    type: prometheus
                    uid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
                editorMode: code
                expr: sum(container_memory_usage_bytes{container="voteapp"})
                hide: false
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: B
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: $B/($A/100)
                hide: false
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: math
            - refId: D
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: C
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: D
                type: reduce
            - refId: E
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 75
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: D
                intervalMs: 1000
                maxDataPoints: 43200
                refId: E
                type: threshold
          noDataState: NoData
          execErrState: Error
          for: 1m
          annotations:
            description: TOO MANY USAGE
            summary: WARNING_Voteapp memory Usage
          isPaused: false
        - uid: cf52a574-a989-4ea7-88ff-462dfb520070
          title: Redis_Memory-Usage_Critical
          condition: E
          data:
            - refId: A
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
              model:
                editorMode: code
                expr: sum(kube_pod_container_resource_limits{container="redis", resource="memory"})
                hide: false
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
              model:
                datasource:
                    type: prometheus
                    uid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
                editorMode: code
                expr: sum(container_memory_usage_bytes{container="redis"})
                hide: false
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: B
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: $B/($A/100)
                hide: false
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: math
            - refId: D
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: C
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: D
                type: reduce
            - refId: E
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 85
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: D
                intervalMs: 1000
                maxDataPoints: 43200
                refId: E
                type: threshold
          noDataState: NoData
          execErrState: Error
          for: 1m
          annotations:
            description: TOO MANY USAGE
            summary: CRITICAL_Redis memory Usage
          isPaused: false
        - uid: d82d5739-76b5-4eba-b061-d758537b6ac2
          title: Voteapp_Memory-Usage_Critical
          condition: E
          data:
            - refId: A
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
              model:
                editorMode: code
                expr: sum(kube_pod_container_resource_limits{container="voteapp", resource="memory"})
                hide: false
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
              model:
                datasource:
                    type: prometheus
                    uid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
                editorMode: code
                expr: sum(container_memory_usage_bytes{container="voteapp"})
                hide: false
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: B
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: $B/($A/100)
                hide: false
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: math
            - refId: D
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: C
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: D
                type: reduce
            - refId: E
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 85
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: D
                intervalMs: 1000
                maxDataPoints: 43200
                refId: E
                type: threshold
          noDataState: NoData
          execErrState: Error
          for: 1m
          annotations:
            description: TOO MANY USAGE
            summary: CRITICAL_Voteapp memory Usage
          isPaused: false
        - uid: d2ca05b6-cf09-4020-b976-178ad97eca49
          title: Redis_SWAP
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
              model:
                editorMode: code
                expr: container_memory_swap{container="redis"}
                hide: false
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                hide: false
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                hide: false
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          noDataState: NoData
          execErrState: Error
          for: 1m
          annotations:
            description: Vide le SWAP
            summary: TON SWAP SE REMPLIT
          isPaused: false
        - uid: b5915c01-7b3b-4393-9d0d-00447aedda6c
          title: Voteapp_SWAP
          condition: C
          data:
            - refId: A
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
              model:
                editorMode: builder
                expr: container_memory_swap{container="voteapp"}
                hide: false
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params: []
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - B
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: A
                hide: false
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: B
                type: reduce
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params:
                            - C
                      reducer:
                        params: []
                        type: last
                      type: query
                datasource:
                    type: __expr__
                    uid: __expr__
                expression: B
                hide: false
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: threshold
          noDataState: NoData
          execErrState: Error
          for: 1m
          annotations:
            description: Vide le SWAP
            summary: TON SWAP SE REMPLIT
          isPaused: false
        - uid: a9199e3f-0408-431f-80a7-0d0b97885ed2
          title: Voteapp_Warning_CPU_usage
          condition: E
          data:
            - refId: A
              relativeTimeRange:
                from: 300
                to: 0
              datasourceUid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
              model:
                editorMode: code
                expr: (sum(rate(container_cpu_usage_seconds_total{container="voteapp"}[1m])) * 100000) / sum(container_spec_cpu_shares)
                hide: false
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 300
                to: 0
              datasourceUid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
              model:
                datasource:
                    type: prometheus
                    uid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
                editorMode: code
                expr: sum(kube_pod_container_resource_limits{resource="cpu", container="voteapp"})
                hide: false
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: B
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: $A/($B/100)
                hide: false
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: math
            - refId: D
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: C
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: D
                type: reduce
            - refId: E
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 75
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: D
                intervalMs: 1000
                maxDataPoints: 43200
                refId: E
                type: threshold
          noDataState: NoData
          execErrState: Error
          for: 1m
          annotations:
            description: cpu out of range
            summary: CPU OUT OF RANGE
          isPaused: false
        - uid: ea1975b2-6790-4cce-b16c-24436ed9c133
          title: Voteapp_Critical_CPU_usage
          condition: E
          data:
            - refId: A
              relativeTimeRange:
                from: 300
                to: 0
              datasourceUid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
              model:
                editorMode: code
                expr: (sum(rate(container_cpu_usage_seconds_total{container="voteapp"}[1m])) * 100000) / sum(container_spec_cpu_shares)
                hide: false
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 300
                to: 0
              datasourceUid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
              model:
                datasource:
                    type: prometheus
                    uid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
                editorMode: code
                expr: sum(kube_pod_container_resource_limits{resource="cpu", container="voteapp"})
                hide: false
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: B
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: $A/($B/100)
                hide: false
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: math
            - refId: D
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: C
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: D
                type: reduce
            - refId: E
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 85
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: D
                intervalMs: 1000
                maxDataPoints: 43200
                refId: E
                type: threshold
          noDataState: NoData
          execErrState: Error
          for: 1m
          annotations:
            description: cpu out of range
            summary: CPU OUT OF RANGE
          isPaused: false
        - uid: f5598d5e-1769-421d-b2d9-9c8b9b27bd49
          title: Redis_Critical_CPU_usage
          condition: E
          data:
            - refId: A
              relativeTimeRange:
                from: 300
                to: 0
              datasourceUid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
              model:
                editorMode: code
                expr: (sum(rate(container_cpu_usage_seconds_total{container="redis"}[1m])) * 100000) / sum(container_spec_cpu_shares)
                hide: false
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 300
                to: 0
              datasourceUid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
              model:
                datasource:
                    type: prometheus
                    uid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
                editorMode: code
                expr: sum(kube_pod_container_resource_limits{resource="cpu", container="redis"})
                hide: false
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: B
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: $A/($B/100)
                hide: false
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: math
            - refId: D
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: C
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: D
                type: reduce
            - refId: E
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 85
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: D
                intervalMs: 1000
                maxDataPoints: 43200
                refId: E
                type: threshold
          noDataState: NoData
          execErrState: Error
          for: 1m
          annotations:
            description: cpu out of range
            summary: CPU OUT OF RANGE
          isPaused: false
        - uid: f89de774-72cc-49b2-b429-7e7b99bac449
          title: Redis_Warning_CPU_usage
          condition: E
          data:
            - refId: A
              relativeTimeRange:
                from: 300
                to: 0
              datasourceUid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
              model:
                editorMode: code
                expr: (sum(rate(container_cpu_usage_seconds_total{container="redis"}[1m])) * 100000) / sum(container_spec_cpu_shares)
                hide: false
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: A
            - refId: B
              relativeTimeRange:
                from: 300
                to: 0
              datasourceUid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
              model:
                datasource:
                    type: prometheus
                    uid: d57c5037-4308-4ab4-83a4-fcb5dd22bd20
                editorMode: code
                expr: sum(kube_pod_container_resource_limits{resource="cpu", container="redis"})
                hide: false
                intervalMs: 1000
                legendFormat: __auto
                maxDataPoints: 43200
                range: true
                refId: B
            - refId: C
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: $A/($B/100)
                hide: false
                intervalMs: 1000
                maxDataPoints: 43200
                refId: C
                type: math
            - refId: D
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 0
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: C
                intervalMs: 1000
                maxDataPoints: 43200
                reducer: last
                refId: D
                type: reduce
            - refId: E
              relativeTimeRange:
                from: 600
                to: 0
              datasourceUid: __expr__
              model:
                conditions:
                    - evaluator:
                        params:
                            - 75
                            - 0
                        type: gt
                      operator:
                        type: and
                      query:
                        params: []
                      reducer:
                        params: []
                        type: avg
                      type: query
                datasource:
                    name: Expression
                    type: __expr__
                    uid: __expr__
                expression: D
                intervalMs: 1000
                maxDataPoints: 43200
                refId: E
                type: threshold
          noDataState: NoData
          execErrState: Error
          for: 1m
          annotations:
            description: cpu out of range
            summary: CPU OUT OF RANGE
          isPaused: false
